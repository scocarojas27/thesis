{"ast":null,"code":"'use strict';\n\nvar Promise = require('../util/promise');\n\nmodule.exports = {\n  then: function (callback, errback) {\n    var self = this;\n    if (!this._promise) this._promise = new Promise(function (resolve, reject) {\n      self._resolve = resolve;\n      self._reject = reject;\n    });\n    if (arguments.length === 0) return this._promise;else return this._promise.then(callback, errback);\n  },\n  callback: function (callback, context) {\n    return this.then(function (value) {\n      callback.call(context, value);\n    });\n  },\n  errback: function (callback, context) {\n    return this.then(null, function (reason) {\n      callback.call(context, reason);\n    });\n  },\n  timeout: function (seconds, message) {\n    this.then();\n    var self = this;\n    this._timer = global.setTimeout(function () {\n      self._reject(message);\n    }, seconds * 1000);\n  },\n  setDeferredStatus: function (status, value) {\n    if (this._timer) global.clearTimeout(this._timer);\n    this.then();\n    if (status === 'succeeded') this._resolve(value);else if (status === 'failed') this._reject(value);else delete this._promise;\n  }\n};","map":{"version":3,"sources":["/home/scocarojas/Documents/prototype/front/node_modules/faye/src/mixins/deferrable.js"],"names":["Promise","require","module","exports","then","callback","errback","self","_promise","resolve","reject","_resolve","_reject","arguments","length","context","value","call","reason","timeout","seconds","message","_timer","global","setTimeout","setDeferredStatus","status","clearTimeout"],"mappings":"AAAA;;AAEA,IAAIA,OAAO,GAAKC,OAAO,CAAC,iBAAD,CAAvB;;AAEAC,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,IAAI,EAAE,UAASC,QAAT,EAAmBC,OAAnB,EAA4B;AAChC,QAAIC,IAAI,GAAG,IAAX;AACA,QAAI,CAAC,KAAKC,QAAV,EACE,KAAKA,QAAL,GAAgB,IAAIR,OAAJ,CAAY,UAASS,OAAT,EAAkBC,MAAlB,EAA0B;AACpDH,MAAAA,IAAI,CAACI,QAAL,GAAgBF,OAAhB;AACAF,MAAAA,IAAI,CAACK,OAAL,GAAgBF,MAAhB;AACD,KAHe,CAAhB;AAKF,QAAIG,SAAS,CAACC,MAAV,KAAqB,CAAzB,EACE,OAAO,KAAKN,QAAZ,CADF,KAGE,OAAO,KAAKA,QAAL,CAAcJ,IAAd,CAAmBC,QAAnB,EAA6BC,OAA7B,CAAP;AACH,GAbc;AAefD,EAAAA,QAAQ,EAAE,UAASA,QAAT,EAAmBU,OAAnB,EAA4B;AACpC,WAAO,KAAKX,IAAL,CAAU,UAASY,KAAT,EAAgB;AAAEX,MAAAA,QAAQ,CAACY,IAAT,CAAcF,OAAd,EAAuBC,KAAvB;AAA+B,KAA3D,CAAP;AACD,GAjBc;AAmBfV,EAAAA,OAAO,EAAE,UAASD,QAAT,EAAmBU,OAAnB,EAA4B;AACnC,WAAO,KAAKX,IAAL,CAAU,IAAV,EAAgB,UAASc,MAAT,EAAiB;AAAEb,MAAAA,QAAQ,CAACY,IAAT,CAAcF,OAAd,EAAuBG,MAAvB;AAAgC,KAAnE,CAAP;AACD,GArBc;AAuBfC,EAAAA,OAAO,EAAE,UAASC,OAAT,EAAkBC,OAAlB,EAA2B;AAClC,SAAKjB,IAAL;AACA,QAAIG,IAAI,GAAG,IAAX;AACA,SAAKe,MAAL,GAAcC,MAAM,CAACC,UAAP,CAAkB,YAAW;AACzCjB,MAAAA,IAAI,CAACK,OAAL,CAAaS,OAAb;AACD,KAFa,EAEXD,OAAO,GAAG,IAFC,CAAd;AAGD,GA7Bc;AA+BfK,EAAAA,iBAAiB,EAAE,UAASC,MAAT,EAAiBV,KAAjB,EAAwB;AACzC,QAAI,KAAKM,MAAT,EAAiBC,MAAM,CAACI,YAAP,CAAoB,KAAKL,MAAzB;AAEjB,SAAKlB,IAAL;AAEA,QAAIsB,MAAM,KAAK,WAAf,EACE,KAAKf,QAAL,CAAcK,KAAd,EADF,KAEK,IAAIU,MAAM,KAAK,QAAf,EACH,KAAKd,OAAL,CAAaI,KAAb,EADG,KAGH,OAAO,KAAKR,QAAZ;AACH;AA1Cc,CAAjB","sourcesContent":["'use strict';\n\nvar Promise   = require('../util/promise');\n\nmodule.exports = {\n  then: function(callback, errback) {\n    var self = this;\n    if (!this._promise)\n      this._promise = new Promise(function(resolve, reject) {\n        self._resolve = resolve;\n        self._reject  = reject;\n      });\n\n    if (arguments.length === 0)\n      return this._promise;\n    else\n      return this._promise.then(callback, errback);\n  },\n\n  callback: function(callback, context) {\n    return this.then(function(value) { callback.call(context, value) });\n  },\n\n  errback: function(callback, context) {\n    return this.then(null, function(reason) { callback.call(context, reason) });\n  },\n\n  timeout: function(seconds, message) {\n    this.then();\n    var self = this;\n    this._timer = global.setTimeout(function() {\n      self._reject(message);\n    }, seconds * 1000);\n  },\n\n  setDeferredStatus: function(status, value) {\n    if (this._timer) global.clearTimeout(this._timer);\n\n    this.then();\n\n    if (status === 'succeeded')\n      this._resolve(value);\n    else if (status === 'failed')\n      this._reject(value);\n    else\n      delete this._promise;\n  }\n};\n"]},"metadata":{},"sourceType":"script"}