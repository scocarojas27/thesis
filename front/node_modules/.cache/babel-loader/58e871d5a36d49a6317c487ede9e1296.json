{"ast":null,"code":"'use strict';\n\nvar assign = require('../util/assign');\n\nvar Scheduler = function (message, options) {\n  this.message = message;\n  this.options = options;\n  this.attempts = 0;\n};\n\nassign(Scheduler.prototype, {\n  getTimeout: function () {\n    return this.options.timeout;\n  },\n  getInterval: function () {\n    return this.options.interval;\n  },\n  isDeliverable: function () {\n    var attempts = this.options.attempts,\n        made = this.attempts,\n        deadline = this.options.deadline,\n        now = new Date().getTime();\n    if (attempts !== undefined && made >= attempts) return false;\n    if (deadline !== undefined && now > deadline) return false;\n    return true;\n  },\n  send: function () {\n    this.attempts += 1;\n  },\n  succeed: function () {},\n  fail: function () {},\n  abort: function () {}\n});\nmodule.exports = Scheduler;","map":{"version":3,"sources":["/home/scocarojas/Documents/prototype/node_modules/faye/src/protocol/scheduler.js"],"names":["assign","require","Scheduler","message","options","attempts","prototype","getTimeout","timeout","getInterval","interval","isDeliverable","made","deadline","now","Date","getTime","undefined","send","succeed","fail","abort","module","exports"],"mappings":"AAAA;;AAEA,IAAIA,MAAM,GAAGC,OAAO,CAAC,gBAAD,CAApB;;AAEA,IAAIC,SAAS,GAAG,UAASC,OAAT,EAAkBC,OAAlB,EAA2B;AACzC,OAAKD,OAAL,GAAgBA,OAAhB;AACA,OAAKC,OAAL,GAAgBA,OAAhB;AACA,OAAKC,QAAL,GAAgB,CAAhB;AACD,CAJD;;AAMAL,MAAM,CAACE,SAAS,CAACI,SAAX,EAAsB;AAC1BC,EAAAA,UAAU,EAAE,YAAW;AACrB,WAAO,KAAKH,OAAL,CAAaI,OAApB;AACD,GAHyB;AAK1BC,EAAAA,WAAW,EAAE,YAAW;AACtB,WAAO,KAAKL,OAAL,CAAaM,QAApB;AACD,GAPyB;AAS1BC,EAAAA,aAAa,EAAE,YAAW;AACxB,QAAIN,QAAQ,GAAG,KAAKD,OAAL,CAAaC,QAA5B;AAAA,QACIO,IAAI,GAAO,KAAKP,QADpB;AAAA,QAEIQ,QAAQ,GAAG,KAAKT,OAAL,CAAaS,QAF5B;AAAA,QAGIC,GAAG,GAAQ,IAAIC,IAAJ,GAAWC,OAAX,EAHf;AAKA,QAAIX,QAAQ,KAAKY,SAAb,IAA0BL,IAAI,IAAIP,QAAtC,EACE,OAAO,KAAP;AAEF,QAAIQ,QAAQ,KAAKI,SAAb,IAA0BH,GAAG,GAAGD,QAApC,EACE,OAAO,KAAP;AAEF,WAAO,IAAP;AACD,GAtByB;AAwB1BK,EAAAA,IAAI,EAAE,YAAW;AACf,SAAKb,QAAL,IAAiB,CAAjB;AACD,GA1ByB;AA4B1Bc,EAAAA,OAAO,EAAE,YAAW,CAAE,CA5BI;AA8B1BC,EAAAA,IAAI,EAAE,YAAW,CAAE,CA9BO;AAgC1BC,EAAAA,KAAK,EAAE,YAAW,CAAE;AAhCM,CAAtB,CAAN;AAmCAC,MAAM,CAACC,OAAP,GAAiBrB,SAAjB","sourcesContent":["'use strict';\n\nvar assign = require('../util/assign');\n\nvar Scheduler = function(message, options) {\n  this.message  = message;\n  this.options  = options;\n  this.attempts = 0;\n};\n\nassign(Scheduler.prototype, {\n  getTimeout: function() {\n    return this.options.timeout;\n  },\n\n  getInterval: function() {\n    return this.options.interval;\n  },\n\n  isDeliverable: function() {\n    var attempts = this.options.attempts,\n        made     = this.attempts,\n        deadline = this.options.deadline,\n        now      = new Date().getTime();\n\n    if (attempts !== undefined && made >= attempts)\n      return false;\n\n    if (deadline !== undefined && now > deadline)\n      return false;\n\n    return true;\n  },\n\n  send: function() {\n    this.attempts += 1;\n  },\n\n  succeed: function() {},\n\n  fail: function() {},\n\n  abort: function() {}\n});\n\nmodule.exports = Scheduler;\n"]},"metadata":{},"sourceType":"script"}