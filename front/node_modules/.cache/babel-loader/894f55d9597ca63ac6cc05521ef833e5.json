{"ast":null,"code":"var validate = require('validate.js');\n\nvalidate.validators.features = function (value\n/*, options, key, attributes */\n) {\n  if (typeof value === 'undefined' || value === null) return value;\n  if (!validate.isArray(value)) return 'needs to be a list of features';\n\n  for (var i = value.length - 1; i >= 0; i--) {\n    if (validate(value[i], feature)) return 'should have group and value keys';\n  }\n};\n\nvalidate.validators.isArray = function (value\n/*, options, key, attributes */\n) {\n  if (!validate.isArray(value)) return 'needs to be an array';\n};\n\nvalidate.validators.isObject = function (value\n/*, options, key, attributes */\n) {\n  if (!validate.isArray(value)) return 'needs to be an array';\n};\n\nvar feature = {\n  group: {\n    presence: true\n  },\n  value: {\n    presence: true\n  }\n};\nvar engagement = {\n  'label': {\n    presence: true\n  },\n  'content': {\n    presence: true\n  },\n  'boost': {\n    presence: false,\n    numericality: true\n  },\n  'features': {\n    features: true\n  }\n};\nvar impression = {\n  'content_list': {\n    presence: true,\n    isArray: true\n  },\n  'boost': {\n    presence: false,\n    numericality: true\n  },\n  'features': {\n    features: true\n  }\n};\nmodule.exports = {\n  engagementSpec: engagement,\n  impressionSpec: impression\n};","map":{"version":3,"sources":["/home/scocarojas/Documents/prototype/front/node_modules/stream-analytics/src/specs.js"],"names":["validate","require","validators","features","value","isArray","i","length","feature","isObject","group","presence","engagement","numericality","impression","module","exports","engagementSpec","impressionSpec"],"mappings":"AAAA,IAAIA,QAAQ,GAAGC,OAAO,CAAC,aAAD,CAAtB;;AAEAD,QAAQ,CAACE,UAAT,CAAoBC,QAApB,GAA+B,UAAUC;AAAK;AAAf,EAAgD;AAC7E,MAAI,OAAQA,KAAR,KAAmB,WAAnB,IAAkCA,KAAK,KAAK,IAAhD,EACI,OAAOA,KAAP;AACJ,MAAI,CAACJ,QAAQ,CAACK,OAAT,CAAiBD,KAAjB,CAAL,EACI,OAAO,gCAAP;;AACJ,OAAK,IAAIE,CAAC,GAAGF,KAAK,CAACG,MAAN,GAAe,CAA5B,EAA+BD,CAAC,IAAI,CAApC,EAAuCA,CAAC,EAAxC,EAA4C;AAC1C,QAAIN,QAAQ,CAACI,KAAK,CAACE,CAAD,CAAN,EAAWE,OAAX,CAAZ,EACI,OAAO,kCAAP;AACL;AACF,CATD;;AAWAR,QAAQ,CAACE,UAAT,CAAoBG,OAApB,GAA8B,UAAUD;AAAK;AAAf,EAAgD;AAC5E,MAAI,CAACJ,QAAQ,CAACK,OAAT,CAAiBD,KAAjB,CAAL,EACI,OAAO,sBAAP;AACL,CAHD;;AAKAJ,QAAQ,CAACE,UAAT,CAAoBO,QAApB,GAA+B,UAAUL;AAAK;AAAf,EAAgD;AAC7E,MAAI,CAACJ,QAAQ,CAACK,OAAT,CAAiBD,KAAjB,CAAL,EACI,OAAO,sBAAP;AACL,CAHD;;AAKA,IAAII,OAAO,GAAG;AACZE,EAAAA,KAAK,EAAE;AAAEC,IAAAA,QAAQ,EAAE;AAAZ,GADK;AAEZP,EAAAA,KAAK,EAAE;AAAEO,IAAAA,QAAQ,EAAE;AAAZ;AAFK,CAAd;AAKA,IAAIC,UAAU,GAAG;AACf,WAAS;AAAED,IAAAA,QAAQ,EAAE;AAAZ,GADM;AAEf,aAAW;AAAEA,IAAAA,QAAQ,EAAE;AAAZ,GAFI;AAGf,WAAS;AACPA,IAAAA,QAAQ,EAAE,KADH;AAEPE,IAAAA,YAAY,EAAE;AAFP,GAHM;AAOf,cAAY;AACVV,IAAAA,QAAQ,EAAE;AADA;AAPG,CAAjB;AAYA,IAAIW,UAAU,GAAG;AACf,kBAAgB;AACdH,IAAAA,QAAQ,EAAE,IADI;AAEdN,IAAAA,OAAO,EAAE;AAFK,GADD;AAKf,WAAS;AACPM,IAAAA,QAAQ,EAAE,KADH;AAEPE,IAAAA,YAAY,EAAE;AAFP,GALM;AASf,cAAY;AACVV,IAAAA,QAAQ,EAAE;AADA;AATG,CAAjB;AAcAY,MAAM,CAACC,OAAP,GAAiB;AACfC,EAAAA,cAAc,EAAEL,UADD;AAEfM,EAAAA,cAAc,EAAEJ;AAFD,CAAjB","sourcesContent":["var validate = require('validate.js');\n\nvalidate.validators.features = function (value/*, options, key, attributes */) {\n  if (typeof (value) === 'undefined' || value === null)\n      return value;\n  if (!validate.isArray(value))\n      return 'needs to be a list of features';\n  for (var i = value.length - 1; i >= 0; i--) {\n    if (validate(value[i], feature))\n        return 'should have group and value keys';\n  }\n};\n\nvalidate.validators.isArray = function (value/*, options, key, attributes */) {\n  if (!validate.isArray(value))\n      return 'needs to be an array';\n};\n\nvalidate.validators.isObject = function (value/*, options, key, attributes */) {\n  if (!validate.isArray(value))\n      return 'needs to be an array';\n};\n\nvar feature = {\n  group: { presence: true },\n  value: { presence: true },\n};\n\nvar engagement = {\n  'label': { presence: true },\n  'content': { presence: true },\n  'boost': {\n    presence: false,\n    numericality: true,\n  },\n  'features': {\n    features: true,\n  },\n};\n\nvar impression = {\n  'content_list': {\n    presence: true,\n    isArray: true,\n  },\n  'boost': {\n    presence: false,\n    numericality: true,\n  },\n  'features': {\n    features: true,\n  },\n};\n\nmodule.exports = {\n  engagementSpec: engagement,\n  impressionSpec: impression,\n};\n"]},"metadata":{},"sourceType":"script"}